# 1.网络基础

---

## 🔥HTTP协议

### 1.当我们输入网址后发生了什么？

**浏览器，还有一些工具，把一些细节都给隐藏了**，我要探索一下这些细节

浏览器行为与HTTP协议（加一些图片之类的看看，中间转发了多少，还有能不能上网的试试）

- 用户输入网址 按下回车
- 浏览器第一件事：先看网络通不通（再深一层就是路由器，网关）（浏览器如何判断网络通不通）
- 网络通的话，浏览器操作 计算机底层发送网络请求的API，向DNS发送解析（因为浏览器不认识域名）
- DNS服务器给浏览器返回了 IP地址，浏览器继续 通过这个IP地址继续发送（因为浏览器和目标地址之间，不可能一条线通着的，中间还有很多透明设备（对于用户是不可见的），网关，路由器等等），经过一些列的转发之后，到达目的地（唯一的服务器）
- 服务器接收到请求之后，经过一些处理，把响应结果返回（字符串）
- 返回过程也经过一些路由，最终返回到 用户浏览器中

---

**猫 和 路由器**

- 猫：是和 各个通信商之间的一条链路
- 路由器：路铺好了，路由器就是告诉怎么走的，就是告诉 DNS服务器

---

**什么是HTTP协议？**

- HTTP是超文本传输协议，从www浏览器传输到本地浏览器的一种传输协议，网站是基于HTTP协议的，例如网站上的图片，CSS,JS等都是基于HTTP协议进行传输的（说白了就是一个有特定套路的拿数据的东西）
- HTTP协议是由从客户机到服务器的请求（request）和 从服务器到客户机（response）进行约束和规范的


---

**http 和 https**

http属于应用层协议（现在http广泛使用的是1.1，但是2.0也在使用）

很多网站都把 http 换成 https，他们很多地方都是相同的，你可以把https当成 http的升级版，不同的是多了一个加密的模块（TLS,SSL）

---

**拓展阅读：TCP/IP的发展史**




---

### 2.http协议详解

**工作流程**

---

**请求和响应（看浏览器的network面板最好）**

http请求组成：请求行，消息报头，请求正文
http响应组成：状态行，消息报头，响应正文

---

**请求报文**

- Accept：我这个浏览器能够接收什么资源
- Accept-Encoding: 浏览器接受数据的格式是什么？可以设置支不支持gzip格式（压缩格式）等
- Accept-Language：接收的语言
- Coche-Control：缓存相关
- 🔥Connetion：keep-alive（http的一种 连接模式，最常用的是长连接 keep-alive）
    - 短连接：每一次http的请求和响应，都会反复建立和断开TCP连接，占用服务器IO操作
    - 长连接：建立一个TCP链接，然后进行多次HTTP通信
- Cookie：
- Host：访问的网站
- User-Agent：包含浏览器的一些信息，电脑系统等，就是浏览器向服务器介绍自己的一个（做爬虫的时候能用到，因为反爬虫的一个就是判断你是不是浏览器）

---

**响应报文**

- Coche-Control：缓存相关
- Connetion：keep-alive（返回形式是长连接）
- Content-Encoding: gzip（返回的格式）
- Content-Type: text/html（返回的类型）
- Date: 缓存相关（时间戳）
- Expires：缓存相关
- Sever：服务器（例如 NGINX）


---

**http状态码**

- 2xx：成功 - 表示请求被成功接收，理解，接受
- 4xx：客户端错误 - 请求有语法错误或请求无法实现
- 5xx：服务器端发生错误 - 服务器未能实现合法的请求
- 3xx：重定向 - 要完成请求必须进行更近一步的操作
- 1xx：指示信息 - 表示请求已接收，继续处理

---

### 3.http协议安全


---

### 4.后端服务于http

---

### 5.反向代理和WEB服务

---





