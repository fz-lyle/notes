# 3.Vue全家桶

## ⚽️第一部分：Vue-Cli

> [Vue-Cli...](https://cli.vuejs.org/zh/guide/cli-service.html)

### 1.安装脚手架和使用

- npm i -g @vue/cli 安装脚手架，用于生成项目
- npm i -g @vue/cli-service-global 快速原型开发，编译.vue文件
- 直接使用编译.vue文件: vue serve app.vue

**使用Cli生成：vue create 名称**

```sh
# Cli选择配置

default（babel, eslint） # 默认配置
Manually select features # 自定义配置

# 自定义配置
Babel # 启动Babel
Typescript # 支持Typescript
Progressive Web App（PWA）Support # PWA
Router # 路由
Vuex # 状态管理
CSS Pre-processors # CSS预处理器
Lintor / Formattor # 
Lint Testing # 
E2E Testing # E2E 测试

Where do you prefer placing config for ... # 文件放到哪里
In deficated config files # 单独成一个文件
In package.json # 放到 package.json 里面

Save this as a preset for futrue projects？ # 是否保留预设给未来使用

```

---

### 2.目录介绍

**基础目录**

- publice（静态文件）
- src（源文件）
    - assets（静态资源）
    - components（组件）
    - App.vue
    - main.js 入口文件

**拓展目录**

- src
    - assets（静态资源）
    - components（组件）
    - views（页面级组件）
    - router（路由文件）
    - vuex（Vuex文件）
    - App.vue
    - main.js 入口文件
- vue.config.js Vue-Cli配置文件

---

## 🏀第二部分：Vue-Router

> [Vue-Router官网...](https://router.vuejs.org/zh/)

### 1.安装和使用

- 要不就是 vue create 项目名称的时候，选上vue-router（推荐）
- 要不就是 vue add router
- 要不就是 npm 下载，然后自己建立文件夹，调整 main.js 

**基本使用**

```js
// router.js
import Vue from 'vue'
import Router from 'vue-router'

Vue.use(Router) // 会往Vue上添加 $router $route

// 路由的作用：在不同的路径，展示不同的内容，下面的配置就是做这个事情
export default new Router({
    routes: [
        {
            path: '/',
            name: 'home',
            // 组件懒加载写法（提高首屏加载）
            component: () => import(/* webpackChunkName: "about" */ './views/Home.vue')
        }
    ]
})

```

---

### 2.router-link && router-view

```html
<router-link to="/">首页</router-link>
<router-link to="{ path: '/' }">首页</router-link>
<!-- 默认渲染成a标签，如果你不想渲染成a标签，可以通过 tag进行设置 -->
<router-link tag="li" to="{ name: 'home' }">首页</router-link>

<!-- 展示跳转的 -->
<router-view></router-view>
```



---

### 3.嵌套路由 && $router

```js
import Router from 'vue-router'
import Vue from 'vue'

Vue.use(Router)

export default new Router({
    routes: [
        {
            path: '/',
            name: ...,
            component: ...,
            redirect: '/login', // 重定向
            children: [
                {
                    path: 'login',
                    name: ...,
                    component: ...
                },
                {
                    path: 'register',
                    name: ...,
                    component: ...
                }
            ]
        },
        {
            path: '*',
            redirect: '/404',
            component: ...
        }
    ]
})

// 在组件中跳转
this.$router.push('/home')
this.$router.replace('/home')

// 跳转效果一样，不一样的地方在于 回退的效果上
// 解释这两个不同，我们先网站路由想象成一个数组，
// [a, b, c] --> this.$router.push('/d') --> [a, b, c, d]
// [a, b, c] --> this.$router.replace('/d') --> [a, b, d]

// this.$router.go()
this.$router.go(0) // 不动
this.$router.go(-1) // 页面往后退
this.$router.go(1) // 页面前进


```

---

### 4.导航守卫 & 动态路由

**全局导航守卫**

```js
const router = new VueRouter({ ... })

router.beforeEach((to, from, next) => {
  // to: 即将要进入的目标 路由对象
  // from: 当前导航正要离开的路由
  // next: 一定要调用该方法来 resolve 这个钩子。执行效果依赖 next 方法的调用参数 | next('/home') 可以改变要进入的路由
})

router.afterEach((to, from) => {
  // ...
})
```

---

**路由导航守卫**

```js
const router = new VueRouter({
  routes: [
    {
      path: '/foo',
      component: Foo,
      beforeEnter: (to, from, next) => {
        // ...
      }
    }
  ]
})
```

---

**组件导航守卫**

```html
<script>
export default {
    // 路由离开之前
    beforeRouteLeave (to, from, next) {
        // this: 是 组件实例
        // to: 即将要进入的目标 路由对象
        // from: 当前路由所在的一些信息
        // next: 一定要调用该方法来 resolve 这个钩子。执行效果依赖 next 方法的调用参数 | next('/home') 可以改变要进入的路由

        // 常用于填写表单的时候，误触路由跳转
    },
    // 路由进来之前
    beforRouteEnter (to, from, next) {
        // this: 是 undefined（因为路由还未进来）
    }
}
</script>
```

---

### 5.$router & $route

---

### 6.路由元信息


---

## 🏈第三部分：Axios

---

## ⚾️第四部分：Vuex

---

## 🎾第五部分：Vue测试（Jest）

---

## 🎱第六部分：Vue测试（mocha）

---

## ⛳️第七部分：UI组件库（Element）